 <ui:composition template="template.xhtml"
                 xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:ui="http://java.sun.com/jsf/facelets">
 
 <ui:define name="corpo-central">
    <h:form id="form">
    
        
        
         <p:dialog id="dialog_histograma" 
                  header="Gráficos do Indicador" 
                  widgetVar="dlg_histograma" 
                  height="450" width="800" 
                  showEffect="slide" 
                  hideEffect="slide">
           
        </p:dialog> 
        
        <p:dialog id="dialog_avaliacao" 
                  header="Nova Avaliação" 
                  widgetVar="dlg_avaliacao" 
                  height="150" width="500" 
                  showEffect="slide" 
                  hideEffect="slide">
            <h:panelGrid columns="2" cellpadding="5">
                
                <p:outputLabel for="data_indicador" value="Escolha um mês:" style="font-weight: bold;" />
                <p:calendar id="data_indicador" value="#{editar_indicadorMB.avaliacao.data}" mindate="30/1/14"/>
 
                
                <p:outputLabel value="Informe o valor do indicador: " style="font-weight: bold;"/>
                <p:inputText value="#{editar_indicadorMB.avaliacao.valor}" size="38"/>
           
                
                <p:outputLabel value="Submeter: " style="font-weight: bold;"/>
                <p:commandButton value="Registrar Avaliação" 
                                         update="form" 
                                         onclick="PF('dlg_avaliacao').hide();"
                                         actionListener="#{editar_indicadorMB.addAvaliacao()}" 
                                         styleClass="ui-priority-primary" 
                                         icon="ui-icon-plusthick" 
                                         style="margin-top:10px;"/>
            </h:panelGrid>
        </p:dialog>    
        
        
     <p:fieldset id="painel_cadastro" legend="Editar Indicador" style="margin-bottom:20px">
        
         
        <p:growl id="mensagem_cadastro" life="5000" showDetail="true"/> 
        <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
        <br/>
         
         <p:chart type="bar" model="#{editar_indicadorMB.barModel}" style="height:300px"/>
          
         <h:panelGrid columns="2" cellpadding="5">
          
            <p:outputLabel value="Adicionar / Alterar Valores: " style="font-weight: bold;"/>
            <p:commandButton value="Adicionar Avaliação" onclick="PF('dlg_avaliacao').show();"/>
            
            <p:outputLabel value="Nome do Indicador: " style="font-weight: bold;"/>
            <p:inputText value="#{editar_indicadorMB.indicador_editar.nome}" size="43"/>
           
            <p:outputLabel value="Insira a unidade do Indicador(*): " style="font-weight: bold;"/>
            <p:inputText value="#{editar_indicadorMB.indicador_editar.unidade_indicador}" size="43"/>
           
            <p:outputLabel value="Descrição: " style="font-weight: bold;"/>
            <p:panel style="margin-bottom:20px">
                            <p:inputTextarea rows="8" 
                                             value="#{editar_indicadorMB.indicador_editar.descricao}" 
                                             cols="70" 
                                             counter="contador_indicador_descricao_field" 
                                             maxlength="1000" 
                                             counterTemplate="{0} Caracteres Restantes." 
                                             autoResize="false"
                                             style="resize:none;"
                                             />
                            <br/>
                            <h:outputText id="contador_indicador_descricao_field" style="font-weight: bold;"/>
            </p:panel>
           
            <p:outputLabel value="Setor de Coleta no Hospital: " style="font-weight: bold;"/>
            <p:inputText value="#{editar_indicadorMB.indicador_editar.setor_de_coleta}" size="43"/>
            
            <p:outputLabel value="Nome do chefe imediato: " style="font-weight: bold;"/>
            <p:inputText value="#{editar_indicadorMB.indicador_editar.nome_chefe_imediato}" size="43"/>
            
            
            <p:outputLabel value="Metas factíveis de CURTO prazo (3 meses): " style="font-weight: bold;"/>
            <p:panel style="margin-bottom:20px">
                            <p:inputTextarea rows="8" 
                                             value="#{editar_indicadorMB.indicador_editar.metas_curto_prazo}" 
                                             cols="70" 
                                             counter="contador_indicador_metas_field" 
                                             maxlength="1000" 
                                             counterTemplate="{0} Caracteres Restantes." 
                                             autoResize="false"
                                             style="resize:none;"
                                             />
                            <br/>
                            <h:outputText id="contador_indicador_metas_field" style="font-weight: bold;"/>
            </p:panel>
            
            <p:outputLabel value="Metas factíveis de LONGO prazo (1 ano): " style="font-weight: bold;"/>
            <p:panel style="margin-bottom:20px">
                            <p:inputTextarea rows="8" 
                                             value="#{editar_indicadorMB.indicador_editar.metas_longo_prazo}" 
                                             cols="70" 
                                             counter="contador_indicador_metas_longo_field" 
                                             maxlength="1000" 
                                             counterTemplate="{0} Caracteres Restantes." 
                                             autoResize="false"
                                             style="resize:none;"
                                             />
                            <br/>
                            <h:outputText id="contador_indicador_metas_longo_field" style="font-weight: bold;"/>
            </p:panel>
            
            <p:outputLabel value="Método de Análise: " style="font-weight: bold;"/>
                <p:panel style="margin-bottom:20px"> 
                    <p:inputTextarea rows="8" 
                                             value="#{editar_indicadorMB.indicador_editar.metodo_de_analise}" 
                                             cols="70" 
                                             counter="contador_indicador_analise_field" 
                                             maxlength="1000" 
                                             counterTemplate="{0} Caracteres Restantes." 
                                             autoResize="false"
                                             style="resize:none;"
                                             />
                            <br/>
                            <h:outputText id="contador_indicador_analise_field" style="font-weight: bold;"/>
                </p:panel>
            <p:outputLabel value="Importância deste indicador para o HU-UNIVASF: " style="font-weight: bold;"/>
                <p:panel style="margin-bottom:20px"> 
                            <p:inputTextarea rows="8" 
                                             value="#{editar_indicadorMB.indicador_editar.importancia_do_indicador}" 
                                             cols="70" 
                                             counter="contador_indicador_importancia_field" 
                                             maxlength="1000" 
                                             counterTemplate="{0} Caracteres Restantes." 
                                             autoResize="false"
                                             style="resize:none;"
                                             />
                            <br/>
                            <h:outputText id="contador_indicador_importancia_field" style="font-weight: bold;"/>
                </p:panel>            
            
            <br/>
            
            <p:commandButton value="Atualizar" 
                                         update="form" 
                                         actionListener="#{editar_indicadorMB.atualizar()}" 
                                         styleClass="ui-priority-primary" 
                                         icon="ui-icon-plusthick" 
                                         style="margin-top:10px;"/>
         </h:panelGrid>
         
     </p:fieldset>
    </h:form>
          
 </ui:define>
</ui:composition>